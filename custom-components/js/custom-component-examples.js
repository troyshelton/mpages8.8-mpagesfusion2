MPage.namespace("cerner");var refreshOptions={stringOption:"Original String",numericOption:1234,objectOption:{objectName:"objectOption"},functionOption:function(){alert("Original function")}};cerner.refresh_example=function(){},cerner.refresh_example.prototype=new MPage.Component,cerner.refresh_example.prototype.constructor=MPage.Component,cerner.refresh_example.prototype.base=MPage.Component.prototype,cerner.refresh_example.prototype.name="cerner.quick_links",cerner.refresh_example.prototype.cclProgram="mp_custom_example",cerner.refresh_example.prototype.cclParams=["mine","personId","userId","encounterId","pprCd",12345.6789,12345,"value(12345.0,4567.0)","value('Hello', 'World')"],cerner.refresh_example.prototype.init=function(){this.getProperty("headerSubTitle")||this.setProperty("headerSubTitle","Original Sub Title");var a,b,c,d,e=[];for(this.cclDataType="TEXT",a=this.cclParams,c=0,d=a.length;c<d;c++)b=this.getProperty(a[c]),"undefined"!==b?e.push(b):e.push(a[c]);this.cclParams=e,this.data=""},cerner.refresh_example.prototype.render=function(){var a="",b=null,c=this,d=this.getProperty("userPreferences"),e=0;null!==d&&"undefined"!==d&&d.hasOwnProperty("count")&&(e=d.count),b=this.getTarget(),b&&(a=this.getOption("id"),$(b).append($("<div>").attr("id","strOpt"+a).html("<b>String Option:</b> "+this.getOption("stringOption"))),$(b).append($("<div>").attr("id","numOpt"+a).html("<b>Numeric Option:</b> "+this.getOption("numericOption"))),$(b).append($("<div>").attr("id","objectOpt"+a).html("<b>Object Option:</b> "+JSON.stringify(this.getOption("objectOption")))),$(b).append($("<div>").attr("id","funcOpt"+a).html("<b>Function Option:</b> "+this.getOption("functionOption"))),$(b).append($("<div>").attr("id","maxHeight"+a).html("<b>maxHeight Property:</b> "+this.getProperty("maxHeight"))),$(b).append($("<div>").attr("id","refreshCount"+a).html("<b>refresh count Property:</b> "+e)),$(b).append($("<div>").attr("id","renderedDimensions"+a).html("&nbsp;")),$(b).append($("<button>").attr("id","updateOpts"+a).html("Update").click(function(){c.setOption("stringOption","Updated String"),c.setOption("numericOption",4567),c.setOption("objectOption",{objectName:"newObjectOption"}),c.setOption("functionOption",function(){alert("Updated function")}),c.setProperty("headerTitle","Updated Title"),c.setProperty("headerSubTitle","Updated Sub Title"),$("#strOpt"+a).html("<b>String Option:</b> "+c.getOption("stringOption")),$("#numOpt"+a).html("<b>Numeric Option:</b> "+c.getOption("numericOption")),$("#objectOpt"+a).html("<b>Object Option:</b> "+JSON.stringify(c.getOption("objectOption"))),$("#funcOpt"+a).html("<b>Function Option:</b> "+c.getOption("functionOption")),$("#maxHeight"+a).html("<b>maxHeight Property:</b> "+c.getProperty("maxHeight")),$("#renderedDimensions"+a).html("<b>Rendered Height:</b> "+$(b).height()+" <b>Rendered Width:</b> "+$(b).width())})),$(b).append($("<div>").html((new Date).toString())),$(b).append($("<button>").attr("id","refresh"+a).html("Refresh").click(function(){c.refresh()})),$("#renderedDimensions"+a).html("<b>Rendered Height updated:</b> "+$(b).height()+" <b>Rendered Width:</b> "+$(b).width()),this.loadCcl("MP_ALLERGIES_EXAMPLE",["MINE",this.getProperty("personId")],function(a){var d="<div>Got reply via loadCcl function: Found "+a.ALLERGIES.ALLERGY.length+" allergies. Please refer to allergies component for details</div>";d+="<div>compSourceLocation="+c.getProperty("compSourceLocation")+"</div>",$(b).append(d)},"JSON"),$(b).append($("<div>").attr("id","username"+a).html("<b>username Property:</b> "+this.getProperty("username"))),this.setProperty("userPreferences",{count:e+1}))},cerner.refresh_example.prototype.resize=function(a,b){var c=this.getTarget(),d=this.getOption("id");$("#maxHeight"+d).html("<b>maxHeight Property:</b> "+this.getProperty("maxHeight")+" <span style='color:red;'><b>Updated</b></span>"),$("#renderedDimensions"+d).html("<b>Rendered Height:</b> "+$(c).height()+" <b>Rendered Width:</b> "+$(c).width()+" <span style='color:red;'><b>Resized</b></span>")};var cernerLinksOptions1={searchLabel:"Customizable Search Label",searchLinks:[{label:"Google",url:"http://www.google.com/search?btnG=1&pws=0&q={0}"},{label:"Bing",url:"http://www.bing.com/search?q={0}&go="}],linksLabel:"Customizable Links Label",links:[{label:"CDC",url:"http://www.cdc.gov"},{label:"Wikipedia",url:"http://www.wikipedia.org"}]},cernerLinksOptions2={searchLabel:"Quick Searches",searchLinks:[{label:"Google",url:"http://www.google.com/search?btnG=1&pws=0&q={0}"},{label:"Bing",url:"http://www.bing.com/search?q={0}&go="}],linksLabel:"Quick Links",links:[{label:"Google",url:"http://www.google.com"},{label:"Yahoo",url:"http://www.yahoo.com"},{label:"Bing",url:"http://www.bing.com"}]};cerner.quick_links=function(){},cerner.quick_links.prototype=new MPage.Component,cerner.quick_links.prototype.constructor=MPage.Component,cerner.quick_links.prototype.base=MPage.Component.prototype,cerner.quick_links.prototype.name="cerner.quick_links",cerner.quick_links.prototype.render=function(){var a,b,c,d,e,f,g,h=[],i=[],j=this.getTarget();if(!this.options)throw new Error("No options object defined for this component");if(a=this.options,g=a.id,a.searchLinks&&a.searchLinks.length){for(b=a.searchLabel||"Search",c=a.searchLinks,h.push('<div><div class="cerner_ql_heading">',b,'</div><div><select id="quick_links_ComboBox',g,'" class="cerner_ql_search_combo">'),f=0;f<c.length;f++)h.push('<option value="',c[f].url,'">',c[f].label,"</option>");h.push('</select><input type="text" id="quick_links_SearchBox',g,'" class="cerner_ql_search_box"/><button id="quick_links_Search',g,'"type="button" class="cerner_ql_search_button">Go</button></div></div>')}if(a.links&&a.links.length){for(d=a.linksLabel||"Links",e=a.links,i.push('<div><div class="cerner_ql_heading">',d,"</div>"),f=0;f<e.length;f++)i.push('<div class="cerner_ql_links"><a onclick="cerner.quick_links.openLink(\'',e[f].url,"')\">",e[f].label,"</a></div>");i.push("</div>")}j.innerHTML=h.join("")+""+i.join("");var k=document.getElementById("quick_links_Search"+g);k.onclick=function(a){var b=document.getElementById("quick_links_SearchBox"+g);if(""!==b.value){var c=document.getElementById("quick_links_ComboBox"+g),d=c.value;d=d.replace("{0}",b.value),cerner.quick_links.openLink(d)}}},cerner.quick_links.openLink=function(a){APPLINK&&APPLINK(100,a,"")},cerner.allergies_example=function(){},cerner.allergies_example.prototype=new MPage.Component,cerner.allergies_example.prototype.constructor=MPage.Component,cerner.allergies_example.prototype.base=MPage.Component.prototype,cerner.allergies_example.prototype.name="Cerner.allergies_example",cerner.allergies_example.prototype.cclProgram="MP_ALLERGIES_EXAMPLE",cerner.allergies_example.prototype.cclParams="",cerner.allergies_example.prototype.cclDataType="JSON",cerner.allergies_example.prototype.init=function(a){var b=[],c=this.getMenu();b.push("mine"),b.push(this.getProperty("personId")),this.cclParams=b;var d;if(!this.options)throw new Error("No options object defined for this component");a=this.options,d=a.id;var e=new MenuSelection("cernerallergies_exampleshowCrit"+d);e.setLabel("Show Critical"),e.setCloseOnClick(!1),e.setIsSelected(!0),e.setClickFunction(function(a,b){this.isSelected()?alert("self.showOnlyCriticalResults()"):alert("self.showAllResults()")}),c.addMenuItem(e);var f=new MenuSeparator("cernerallergies_exampleseperator"+d);c.addMenuItem(f);var g=new Menu("cernerallergies_examplesubMenu1"+d);g.setLabel("Sub Menu 1"),g.setAnchorConnectionCorner(["top","left"]),g.setContentConnectionCorner(["top","right"]);var h=new MenuSelection("cernerallergies_examplesubOption1"+d);h.setLabel("Sub Menu Option 1"),g.addMenuItem(h);var i=new Menu("cernerallergies_examplesubMenu2"+d);i.setLabel("Sub Menu 2"),i.setAnchorConnectionCorner(["top","left"]),i.setContentConnectionCorner(["top","right"]);var j=new MenuSelection("cernerallergies_examplesubOption2"+d);j.setLabel("Sub Menu Option 2"),i.addMenuItem(j);var k=new MenuSeparator("cernerallergies_examplesubMenuSeparator"+d);i.addMenuItem(k);var l=new MenuSelection("cernerallergies_examplesubOption3"+d);l.setLabel("Sub Menu Option 3"),i.addMenuItem(l),g.addMenuItem(i),c.addMenuItem(g)},cerner.allergies_example.prototype.render=function(){var a,b,c,d,e,f,g=this.getTarget(),h=[],i=this.data.ALLERGIES,j=i.ALLERGY.length,k=[],l=[],m=[],n=[];for(k.push("<table class='cerner_all_table'><th>Allergy</th><th>Reaction</th>"),c=0;c<j;c++){if(h=[],l=[],m=[],n=[],k.push("<tr>"),a=c%2===1?"cerner_all_even":"",b=i.ALLERGY[c],f=b.SEVERE_IND?"cerner_all_severe":"",h.push("<td class='",a," cerner_all ",f,"'><span>"+b.ALLERGY_NAME+"</span></td>"),l.push("<td class='",a," cerner_all_reac ",f,"'><span>"),b.REACTION_CNT>0){for(d=0;d<b.REACTION_CNT;d++)e=b.REACTIONS[d],l.push(e.REACTION,", ");l.pop()}else l.push("--");l.push("</span></td>"),m.push("<td class='",a," cerner_all_onset ",f,"'><span>Onset: "+b.ONSET_DATE+"</span></td>"),n.push("<td class='",a," cerner_all_severity ",f,"'><span>Severity: "+b.SEVERITY+"</span></td>"),k.push("<tr>"),k.push(h.join("")+l.join("")),k.push("</tr><tr>"),k.push(m.join("")+n.join("")),k.push("</tr>")}0===j?(k.pop(),k.push("<table class='cerner_all_table'><th>No allergies recorded</th></table>")):k.push("</table>"),g.innerHTML=k.join("")};var customCompOptions1={cclProgram:"mp_custom_example",cclParams:["mine","personId","userId","encounterId","pprCd"]},customCompOptions2={cclProgram:"mp_pe_get_immunizations",cclParams:["mine","personId","userId","encounterId","pprCd"]};cerner.custom_component=function(){},cerner.custom_component.prototype=new MPage.Component,cerner.custom_component.prototype.constructor=MPage.Component,cerner.custom_component.prototype.base=MPage.Component.prototype,cerner.custom_component.name="Cerner.custom_component",cerner.custom_component.prototype.init=function(a){var b,c,d,e,f=[];for(this.cclProgram=this.getOption("cclProgram"),this.cclDataType="TEXT",b=this.getOption("cclParams"),d=0,e=b.length;d<e;d++)c=this.getProperty(b[d]),"undefined"!==c?f.push(c):alert("property "+b[d]+" is not currently available");this.cclParams=f,this.data=""},cerner.custom_component.prototype.render=function(){var a=this.getTarget();a.innerHTML=this.data},cerner.focus_test=function(){},cerner.focus_test.prototype=new MPage.Component,cerner.focus_test.prototype.constructor=MPage.Component,cerner.focus_test.prototype.base=MPage.Component.prototype,cerner.focus_test.name="Cerner.custom_component",cerner.focus_test.prototype.render=function(){function a(){clearInterval(c)}function b(){var a=0;c=setInterval(function(){h=a%g;var b=document.getElementById(f[h]);switch(h){case 0:b.innerHTML=b.innerHTML+" "+(new Date).toString();break;case 3:b.value=(new Date).toString();break;case 4:var c=document.createElement("option");c.text=(new Date).toString(),c.selected=!0,b.appendChild(c);break;case 5:var d=b.contentDocument||b.contentWindow.document;d.body.innerHTML=(new Date).toString();break;default:b.innerHTML=(new Date).toString()}b.focus(),a++},3e3)}var c,d=this.getOption("id"),e=new Date,f=["textarea"+d,"button"+d,"anchor"+d,"input"+d,"select"+d,"iframe"+d],g=f.length,h=0,i=["<div><span>This component is used to test focus event interception.  It is not intended for client use as a functional example.</span></div>","<div>textarea: <textarea id='"+f[0]+"' rows='4' columns='100'>"+e.toString()+"</textarea></div>","<div>button: <button id='"+f[1]+"'>"+e.toString()+"</button></div>","<div>anchor: <a id='"+f[2]+"' href=#>"+e.toString()+"</a></div>","<div>input: <input id='"+f[3]+"' type='text' value='"+e.toString()+"' style='width:375px;'></div>","<div>select: <select id='"+f[4]+"'><option>"+e.toString()+"</option></select></div>","<div>iframe: <iframe id='"+f[5]+"' height='50px' width='375px'>"+e.toString()+"</iframe></div>","<div><button id='startButton"+d+"'>Start</button><button id='stopButton"+d+"'>Stop</button></div>"].join("");this.getTarget().innerHTML=i,document.getElementById("startButton"+d).addEventListener("click",b),document.getElementById("stopButton"+d).addEventListener("click",a)},cerner.alert_test=function(){},cerner.alert_test.prototype=new MPage.Component,cerner.alert_test.prototype.base=MPage.Component.prototype,cerner.alert_test.prototype.name="cerner.alert_test",cerner.alert_test.prototype.render=function(){var a="alert"+this.getOption("id");this.getTarget().innerHTML="<button id='"+a+"'>Delayed Alert</button>",document.getElementById(a).addEventListener("click",function(){setTimeout(function(){alert("Delayed Alert Message")},5e3)})},cerner.discern_object_test=function(){},cerner.discern_object_test.prototype=new MPage.Component,cerner.discern_object_test.prototype.base=MPage.Component.prototype,cerner.discern_object_test.prototype.name="cerner.discern_object_test",cerner.discern_object_test.prototype.render=function(){var a=this.getProperty("personId"),b=this.getProperty("encounterId"),c=this.getProperty("userId"),d=this.getProperty("positionCd"),e=this.getProperty("pprCd"),f=this.getProperty("categoryMean"),g="applink"+this.getOption("id"),h="ccllink"+this.getOption("id"),i="mpagesEvent"+this.getOption("id"),j="launchExternalURL"+this.getOption("id"),k="mpagesSvcEvent"+this.getOption("id"),l="launchCCLReportText"+this.getOption("id"),m="longParameter"+this.getOption("id"),n="htmlPopup"+this.getOption("id"),o="applinkBrowser"+this.getOption("id"),p="applinkFirstNet"+this.getOption("id");this.getTarget().innerHTML="<button id='"+g+"'>APPLINK</button><button id = '"+h+"'>CCLLINK</button><button id = '"+i+"'>MPAGES_EVENT</button><button id = '"+j+"'>LAUNCHEXTERNALURL</button><button id = '"+k+"'>MPAGES_SVC_EVENT</button><button id = '"+l+"'>LAUNCHCCLREPORT-TEXT</button><button id = '"+n+"'>LAUNCHCCLREPORT-HTML</button><button id = '"+m+"'>CCLLINK - LONG PARAMETER</button><button id = '"+o+"'>APPLINK - LAUNCH BROWSER</button><button id = '"+p+"'>APPLINK - LAUNCH FIRSTNET</button>",document.getElementById(g).addEventListener("click",function(){try{var c="/PERSONID="+a+" /ENCNTRID="+b+" /FIRSTTAB=^MAR^";APPLINK(0,"powerchart.exe",c)}catch(a){alert("Error Received launching APPLINK: "+a)}}),document.getElementById(h).addEventListener("click",function(){try{var a="^MINE^, ^P^, ^MP_UNIFIED_DRIVER^, ^N^";CCLLINK("CCLPROT",a,1)}catch(a){alert("Error Received launching CCLLINK: "+a)}}),document.getElementById(i).addEventListener("click",function(){try{var c=a+"|"+b+"|0|0|||0||0|0";MPAGES_EVENT("ALLERGY",c)}catch(a){alert("Error Received launching MPAGES_EVENT: "+a)}}),document.getElementById(j).addEventListener("click",function(){ReportLauncher.launchExternalURL("my.cerner.com",{modal:!0,showToolbar:!1,showButtons:!0,width:1920,height:1080,useEdge:CERN_Platform.inEdgeContext()}).catch(function(a){alert("Error Received calling LAUNCHEXTERNALURL: "+a)})}),document.getElementById(k).addEventListener("click",function(){try{var a=window.location.href,b=a.substring(0,a.indexOf("/reports/"))+"/reports/",c="^MINE^, ^P^, ^MP_UNIFIED_DRIVER^, ^N^";MPAGES_SVC_EVENT(b+"CCLPROT",c)}catch(a){alert("Error Received launching MPAGES_SVC_EVENT: "+a)}}),document.getElementById(l).addEventListener("click",function(){ReportLauncher.launchCCLReport("cclprot","^MINE^, ^P^, ^MP_UNIFIED_DRIVER^, ^N^",{modal:!0,showButtons:!1,showToolbar:!1,width:1024,height:768}).catch(function(a){alert("Error Received calling LAUNCHCCLREPORT "+a)})}),document.getElementById(m).addEventListener("click",function(){try{for(var a="",b=1;b<100;b++)a+="Lets create a large string: "+b+";  ";var c="'MINE', ~"+a+"~";CCLLINK("mp_unified_driver",c,1)}catch(a){alert("Error Received launching CCLLINK: "+a)}}),document.getElementById(n).addEventListener("click",function(){ReportLauncher.launchCCLReport("mp_unified_driver","^MINE^, "+a+","+b+","+c+","+d+","+e+",^powerchart.exe^, ^^, ^"+f+"^, 4",{modal:!0,showButtons:!1,showToolbar:!1,width:1024,height:768}).catch(function(a){alert("Error Received calling LAUNCHCCLREPORT"+a)})}),document.getElementById(o).addEventListener("click",function(){try{APPLINK(100,"http://www.cerner.com","")}catch(a){alert("Error Received launching APPLINK - Browser: "+a)}}),document.getElementById(p).addEventListener("click",function(){try{var c="/PERSONID="+a+" /ENCNTRID="+b;APPLINK(0,"firstnet.exe",c)}catch(a){alert("Error Received launching APPLINK - Firstnet: "+a)}})},!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=2)}([function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d={MENU:{MENU_SELECTION:"FusionCustomComponentExample::Menu::MenuExample::click"},LOOKBACK_CHANGE:"FusionCustomComponentExample::Lookback::change",DETAIL_PANEL_UNLOAD:"FusionCustomComponentExample::DetailPanel::unload"},e={},f={optionsObjectPrimary:{lookback:[{display:"Last 10 days",isSelected:!0},{display:"Last 4 years"}]},optionsObjectSecondary:{lookback:[{display:"Last 3 days",isSelected:!0},{display:"Last 2 months"}]}};b.EVENTS=d,b.STYLES=e,b.CUSTOM_COMPONENT_OPTIONS=f},function(a,b){a.exports=MPageFusion},function(a,b,c){c(3),a.exports=c(12)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(4),i=c(5),j=d(i),k=c(6),l=d(k),m=c(9),n=d(m),o=c(0),p=h.FusionComponent.STATUS_TYPES,q="mpages-fcce",r=function(a){function b(){e(this,b);var c=f(this,a.call(this,q));return c.setComponentLoadTimerName("USR:MPG.FusionCustomComponentExample - load component"),c.setComponentRenderTimerName("ENG:MPG.FusionCustomComponentExample - render component"),c.setIncludeLineNumber(!0),c._state={},c}return g(b,a),b.prototype.initialProps=function(){return{componentMenu:[],plusAddMenu:[{display:"Item 1"},{display:"Item 2"}],lookbackChangeEventName:o.EVENTS.LOOKBACK_CHANGE,bodyContent:new n.default}},b.prototype.preProcessing=function(){a.prototype.preProcessing.call(this);var b=this.getFusionComponentContent();if(this._state.options){var c=o.CUSTOM_COMPONENT_OPTIONS[this._state.options].lookback;b.setProp("lookbackOptions",c)}var d=this.getPreferencesObj();d&&b.setProp("componentMenu",[{display:"Menu Option Example",isSelected:!!d.isExampleMenuOptionSelected,fire:o.EVENTS.MENU.MENU_SELECTION}])},b.prototype.afterCreate=function(){var a=this;return this.on(o.EVENTS.MENU.MENU_SELECTION,function(b,c,d){var e=a.getPreferencesObj()||{};e.isExampleMenuOptionSelected=d,a.setPreferencesObj(e),a.savePreferences(!0),alert("Preference saved to: "+d)}),this.on(o.EVENTS.LOOKBACK_CHANGE,function(b){alert("Lookback changed: "+b.display),a.retrieveComponentData()}),this},b.prototype.setFilterNamespace=function(a){return this._state.namespace=a,this},b.prototype.setFilterOptions=function(a){return this._state.options=a,this},b.prototype.loadFilterMappings=function(){this.addFilterMappingObject("FUSION_CUSTOM_COMP_PRG_1",{setFunction:this.setFilterNamespace,type:"STRING",field:"FREETEXT_DESC"}),this.addFilterMappingObject("FUSION_CUSTOM_COMP_OBJ_1",{setFunction:this.setFilterOptions,type:"STRING",field:"FREETEXT_DESC"})},b.prototype.retrieveComponentData=function(){var a=this;(0,l.default)(this).then(function(b){"S"===b.getStatus()?(a.setStatus(p.SUCCESS),a.renderComponent(b.getResponse())):(a.setStatus(p.NO_DATA),a.finalizeComponent())}).catch(function(b){a.setStatus(p.ERROR),a.finalizeComponent()})},b.prototype.renderComponent=function(a){this.getBodyContent().setProp("data",a),this.finalizeComponent(a.ACTIVITY_COUNT)},b}(h.FusionComponent);b.default=r,j.default.setObjectDefinitionMapping("FUSION_CUSTOM_COMP_1",r)},function(a,b){a.exports=FusionComponent},function(a,b){a.exports=MP_Util},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(7),e=function(a){return a&&a.__esModule?a:{default:a}}(d);b.default=e.default},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(8),e=function(a){return a&&a.__esModule?a:{default:a}}(d),f=function(a){return new Promise(function(b,c){var d=new e.default;d.setName("Example Request"),d.setArtifactInfo({artifactId:"FusionCustomComponentExample",functionName:"getData"}),d.setProgramName("MP_RETRIEVE_MOCK_DATA"),d.setParameterArray(["^MINE^"]),d.setResponseHandler(function(a){"F"!==a.getStatus()?b(a):c(a)}),d.setComponent(a),d.performRequest()})};b.default=f},function(a,b){a.exports=FusionComponentScriptRequest},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var g=c(1),h=c(10),i=c(0),j=c(11),k=function(a){return a&&a.__esModule?a:{default:a}}(j),l=g.atomic.table.Table,m=g.composite.detailPanel.DetailPanel,n=h.helpers.detailPanel,o=function(a,b){return a.map(function(a,c){return{meta:a,key:b+"|"+c+"|"+a.ACTIVITY_ID,data:[{display:a.ACTIVITY_NAME},{display:""+a.DURATION},{display:a.DAYS_PER_WEEK}]}})},p=function(a){return a.ACTIVITY_LEVELS.map(function(b,c){return{key:b.LEVEL_ID,expand:!0,display:b.LEVEL_NAME,rows:o(a.ACTIVITY.filter(function(a){return a.ACTIVITY_LEVEL===b.LEVEL_NAME}),b.LEVEL_ID)}})},q=function(a,b){var c=b.getProp("subSections"),d=a.split("|"),e=parseInt(d[1],10);b.setProp("subSections",c.map(function(a){return a.key===parseInt(d[0],10)&&(a.rows[e].isSelected=!1),a}))},r=function(a){function b(){d(this,b);var c=e(this,a.call(this));return c.lastSelectedRowKey="",c}return f(b,a),b.prototype.initialProps=function(){return{data:null}},b.prototype.propChangeHandlers=function(){var a=this;return{data:function(b){a.getChild("table").setProp("subSections",p(b))}}},b.prototype.createChildren=function(){return[{table:new l({columns:[{display:"Activity Name",key:"column1"},{display:"Time spent per Week",key:"column3"},{display:"Days per Week",key:"column4"}],rowProps:{dualColumn:!1,selectable:!0,hoverable:!0}})},{panel:new k.default}]},b.prototype.afterCreate=function(){var a=this;this.on(l.EVENTS.ROW_SELECTION_CHANGE,function(b){a.stopPropagation(l.EVENTS.ROW_SELECTION_CHANGE);var c=b.selected.length&&b.selected[0];if(c&&c.isSelected){var d=a.getChild("panel");d.setProp("result",c.meta),n.loadPanel(a,{panel:d}).then(function(){a.lastSelectedRowKey=c.key}).catch(function(){q(a.lastSelectedRowKey,a.getChild("table")),a.lastSelectedRowKey=""})}else n.closePanel(a),a.setProp("data",a.getProp("data")),a.update()}),this.on(m.EVENTS.REQUEST_CLOSE,function(){var b=a.getChild("table");n.closePanel(a),q(a.lastSelectedRowKey,b),a.lastSelectedRowKey="",b.update()}),this.on(i.EVENTS.DETAIL_PANEL_UNLOAD,function(b,c){var d=a.getChild("table");q(a.lastSelectedRowKey,d),a.lastSelectedRowKey="",d.update(),b()})},b.prototype.view=function(a,b,c,d){return d.table.render()},b}(g.UIComponent);b.default=r},function(a,b){a.exports=LegacyAdapter},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var g=c(1),h=c(0),i=g.composite.detailPanel,j=i.DetailPanel,k=i.DetailPanelTitle,l=i.DetailPanelData,m=function(a){return[{id:"activityDetailSection",rows:[[{label:"Days of Week",text:a.DAYS_PER_WEEK,span:6},{label:"Activity Level",text:a.ACTIVITY_LEVEL,span:6},{label:"Total time spent",text:a.DURATION,span:6},{label:"Total Calories Burnt",text:a.WEEKLY_DATA.reduce(function(a,b){return Number(a)+Number(b.CALORIES_BURNT)},0)}]]}]},n=function(a){return[{id:"caloriesBurntSection",rows:[[{label:"Calories Burnt",text:a.CALORIES_BURNT+" calories",span:12}]]}]},o=function(a){function b(){return d(this,b),e(this,a.apply(this,arguments))}return f(b,a),b.prototype.initialProps=function(){return{result:null,unloadRequestEventName:h.EVENTS.DETAIL_PANEL_UNLOAD}},b.prototype.propChangeHandlers=function(){var a=this;return{result:function(b){var c=a.getChild("detailPanel"),d=c.getChild("titleContent"),e=c.getChild("bodyContent");d.setProp("title","Activity Details"),b.ACTIVITY_NAME&&e.setProp("sections",m(b)),b.CALORIES_BURNT>=0&&e.setProp("sections",n(b))}}},b.prototype.createChildren=function(){return[{detailPanel:new j({titleContent:new k,bodyContent:new l})}]},b.prototype.view=function(){return this.renderChildren()},b}(g.UIComponent);b.default=o},function(a,b){}]);